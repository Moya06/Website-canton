<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard | Paseo Colón</title>
  
  <!-- Fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
  
  <!-- Íconos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/dashboard.css">
</head>
<body>
  <nav>
    <div class="nav-container">
      <div class="logo">
        <img src="/imgs/logos/logo_mis_vecinos.jpeg" alt="Logo Paseo Colón" />
      </div>

      <input type="checkbox" id="toggle" />

      <label for="toggle" class="hamburger">
        <svg viewBox="0 0 32 32">
          <path class="line line-top-bottom"
            d="M27 10 13 10C10.8 10 9 8.2 9 6 9 3.5 10.8 2 13 2 15.2 2 17 3.8 17 6L17 26C17 28.2 18.8 30 21 30 23.2 30 25 28.2 25 26 25 23.8 23.2 22 21 22L7 22">
          </path>
          <path class="line" d="M7 16 27 16"></path>
        </svg>
      </label>

      <ul class="menu">
        <li><a href="dashboard">Dashboard</a></li>
        <li><a href="advertisement">Anuncios</a></li>
        <li><a href="event">Eventos</a></li>
        <li><a href="complaint">Quejas</a></li>
        <li><a href="transport">Transporte</a></li>
        <li><a href="entrepreneur">Emprendimientos</a></li>
        <li><a href="profile">Mi perfil</a></li>
      </ul>
    </div>
  </nav>

  <div class="container_header">
    <div class="header">
      <h1 class="welcome-text">
        ¡Bienvenido <%= (user && user.name) ? user.name : 'Usuario' %>!
        <div class="role-badge">
          <i class="fas fa-user-tag"></i>
          <% if (user && user.rol=== 'ADMIN_ROLE' ) { %>
            Administrador
          <% } else if (user && user.rol=== 'CITIZEN_ROLE' ) { %>
            Ciudadano
          <% } else if (user && user.rol=== 'ENTREPRENEUR_ROLE' ) { %>
            Emprendedor
          <% } %>
        </div>
      </h1>
    </div>

    <% if (user && user.rol=== 'ADMIN_ROLE' ) { %>
      <section class="section">
        <h2><i class="fas fa-crown"></i> Panel de Administración</h2>
        <div class="container_cards">
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-users"></i>
            </div>
            <div class="card-info">
              <h3>Usuarios</h3>
              <p>Gestiona usuarios del sistema, permisos.</p>
              <a class="button" href="/users">
                <i class="fas fa-arrow-right"></i>
                Ver usuarios
              </a>
            </div>
          </div>
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-rocket"></i>
            </div>
            <div class="card-info">
              <h3>Emprendimientos</h3>
              <p>Aprueba, revisa y administra todos los emprendimientos registrados.</p>
              <a class="button" href="/entrepreneurAdmin">
                <i class="fas fa-arrow-right"></i>
                Administrar
              </a>
            </div>
          </div>
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-bullhorn"></i>
            </div>
            <div class="card-info">
              <h3>Anuncios y Eventos</h3>
              <p>Publica, revisa y gestiona anuncios y eventos de la comunidad.</p>
              <a class="button" href="/advertisement">
                <i class="fas fa-arrow-right"></i>
                Ir a anuncios
              </a>
            </div>
          </div>
        </div>
      </section>
    <% } else if (user && user.rol=== 'CITIZEN_ROLE' ) { %>
      <section class="section">
        <h2><i class="fas fa-user"></i> Panel de Ciudadano</h2>
        <div class="container_cards">
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-calendar-alt"></i>
            </div>
            <div class="card-info">
              <h3>Eventos</h3>
              <p>Explora eventos de tu comunidad.</p>
              <a class="button" href="/event">
                <i class="fas fa-arrow-right"></i>
                Ver eventos
              </a>
            </div>
          </div>
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-bus"></i>
            </div>
            <div class="card-info">
              <h3>Transporte</h3>
              <p>Consulta información de transporte.</p>
              <a class="button" href="/transport">
                <i class="fas fa-arrow-right"></i>
                Ver transporte
              </a>
            </div>
          </div>
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="card-info">
              <h3>Denuncias</h3>
              <p>Envía una denuncia ciudadana.</p>
              <a class="button" href="/complaintForm">
                <i class="fas fa-arrow-right"></i>
                Crear denuncia
              </a>
            </div>
          </div>
        </div>
      </section>
    <% } else if (user && user.rol=== 'ENTREPRENEUR_ROLE' ) { %>
      <section class="section">
        <h2><i class="fas fa-briefcase"></i> Panel de Emprendedor</h2>
        <div class="container_cards">
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-store"></i>
            </div>
            <div class="card-info">
              <h3>Mi Emprendimiento</h3>
              <p>Gestiona tu emprendimiento y productos.</p>
              <a class="button" href="/entrepreneur">
                <i class="fas fa-arrow-right"></i>
                Ver emprendimiento
              </a>
            </div>
          </div>
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-chart-line"></i>
            </div>
            <div class="card-info">
              <h3>Estadísticas</h3>
              <p>Revisa el desempeño y métricas de tu negocio.</p>
              <a class="button" href="/entrepreneurStats">
                <i class="fas fa-arrow-right"></i>
                Ver estadísticas
              </a>
            </div>
          </div>
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-plus-circle"></i>
            </div>
            <div class="card-info">
              <h3>Nuevo Producto</h3>
              <p>Agrega nuevos productos o servicios.</p>
              <a class="button" href="/addProduct">
                <i class="fas fa-arrow-right"></i>
                Agregar producto
              </a>
            </div>
          </div>
        </div>
      </section>
    <% } else { %>
      <section class="section">
        <div class="container_cards">
          <div class="card">
            <div class="card-icon">
              <i class="fas fa-exclamation-circle"></i>
            </div>
            <div class="card-info">
              <h3>Error de Sesión</h3>
              <p>No se pudo determinar tu rol. Intenta cerrar sesión e iniciar nuevamente.</p>
              <a class="button" href="/logout">
                <i class="fas fa-sign-out-alt"></i>
                Cerrar sesión
              </a>
            </div>
          </div>
        </div>
      </section>
    <% } %>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="footer_row">
        <div class="footer_links">
          <h4>Mis vecinos</h4>
          <ul>
            <li><a href="#">Code Crafters team</a></li>
            <li><a href="#">codecrafters.com</a></li>
            <li><a href="#">#code-crafters</a></li>
          </ul>
        </div>
        <div class="footer_links">
          <h4>Compañía</h4>
          <ul>
            <li><a href="#">Sobre nosotros</a></li>
            <li><a href="#">Cómo trabajar con nosotros</a></li>
          </ul>
        </div>
        <div class="footer_links">
          <h4>Contactanos</h4>
          <ul>
            <li><a href="#">(506) 60324248</a></li>
            <li><a href="#">info@codecrafters.com</a></li>
          </ul>
        </div>
        <div class="footer_links">
          <h4>Siguenos en redes sociales</h4>
          <div class="social_links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script type="module" src="/js/navAdmin.js"></script>
</body>
</html>